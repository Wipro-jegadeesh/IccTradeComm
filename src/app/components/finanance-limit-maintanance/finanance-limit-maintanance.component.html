<div class="app-content">
  <header>
    <div class="container-fluid contnr-div">
      <div class="row">
        <div class="col-md-12">
          <mat-tab-group dynamicHeight>
            <mat-tab label="Limit Maintanance">
              <div class="links">
                <mat-card>
                  <mat-card-content>
                    <h5 class="tab-text">Limit Maintanance
                      <div class="acc-bal-icon MuiGrid-root MuiGrid-item">
                        <svg class="MuiSvgIcon-root jss152 MuiSvgIcon-fontSizeLarge" focusable="false"
                          viewBox="0 0 24 24" aria-hidden="true">
                          <path d="M4 10h3v7H4zM10.5 10h3v7h-3zM2 19h20v3H2zM17 10h3v7h-3zM12 1L2 6v2h20V6z"></path>
                        </svg>
                      </div>
                    </h5>
                    <form [formGroup]="mainlimitMaintanceForm" autocomplete="off"
                      (ngSubmit)="mainlimitMaintanceFormSubmit()">
                      <mat-card>
                        <mat-card-content>
                          <table class="table-responsive inv-table" style="display: contents;">
                            <tbody>
                              <tr>
                                <td rowspan="1" colspan="1">
                                  <mat-form-field dense class="icc-mat">
                                    <mat-label>Currency</mat-label>
                                    <select matNativeControl formControlName="mainlimitccy">
                                      <!-- <option value=""></option> -->
                                      <option value="SGD">SGD</option>
                                      <!-- <option value="USD">USD</option>
                                                <option value="GBP">GBP</option>
                                                <option value="EUR">EUR</option>
                                                <option value="JPY">JPY</option> -->
                                    </select>
                                  </mat-form-field>
                                </td>
                                <!-- </tr>
                              <tr> -->
                                <td rowspan="1" colspan="1">
                                  <mat-form-field dense class="icc-mat">
                                    <mat-label>Overall Exposure</mat-label>
                                    <input type="text" matInput formControlName="mainoverallexposure"
                                      [readonly]=callPutMethodEdit />
                                  </mat-form-field>
                                </td>

                                <!-- </tr>
                              <tr> -->
                                <td rowspan="1" colspan="1">
                                  <mat-form-field dense class="icc-mat">
                                    <mat-label>Country Exposure</mat-label>
                                    <input type="text" matInput formControlName="maincountryexposure"
                                      (keyup)="changecountrylimit($event,'countryoverAllLimit')"
                                      [readonly]=callPutMethodEdit />
                                  </mat-form-field>
                                </td>

                              </tr>
                              <tr>
                                <td rowspan="1" colspan="1">
                                  <mat-form-field dense class="icc-mat">
                                    <mat-label>SME Exposure </mat-label>
                                    <input type="text" matInput formControlName="mainsmeexposure"
                                      (keyup)="changesmelimit($event,'smeoverAllLimit')" [readonly]=callPutMethodEdit />
                                  </mat-form-field>
                                </td>

                                <!-- </tr>
                              <tr> -->
                                <td rowspan="1" colspan="1">
                                  <mat-form-field dense class="icc-mat">
                                    <mat-label>Sector Exposure</mat-label>
                                    <input type="text" matInput formControlName="mainsector"
                                      [readonly]=callPutMethodEdit />
                                  </mat-form-field>
                                </td>

                                <!-- </tr>

                              <tr> -->
                                <td rowspan="1" colspan="1">
                                  <mat-form-field dense class="icc-mat">
                                    <mat-label>Transaction Exposure</mat-label>
                                    <input type="text" matInput formControlName="transactions"
                                      [readonly]=callPutMethodEdit />
                                  </mat-form-field>
                                </td>

                              </tr>

                              <tr>
                                <td rowspan="1" colspan="1">
                                  <mat-form-field dense class="icc-mat">
                                    <mat-label>Buyer Exposure</mat-label>
                                    <input type="text" matInput formControlName="buyerLimit"
                                      [readonly]=callPutMethodEdit />
                                  </mat-form-field>
                                </td>

                                <td rowspan="1" colspan="1" *ngIf="callPutMethodEdit">
                                  <mat-form-field dense class="icc-mat">
                                    <mat-label>Overall Available Exposure</mat-label>
                                    <input type="text" matInput formControlName="mainOverallAvailable"
                                      [readonly]=true />
                                  </mat-form-field>
                                </td>

                                <!-- </tr>
                                <tr> -->
                                <td rowspan="1" colspan="1">
                                  <div *ngIf="callPostMethod">
                                    <button *ngIf="callPostMethod" type="submit" mat-flat-button color="primary"
                                      id=grid>Create
                                      Limit</button>
                                  </div>
                                  <div style="text-align: end;" *ngIf="callPutMethodEdit && !callPostMethod">
                                    <button *ngIf="callPutMethodEdit" mat-flat-button color="primary"
                                      (click)="callPutMethodEditFn('edit')">Edit
                                      Limit</button>
                                  </div>
                                  <div style="text-align: end;" *ngIf="callPutMethodEdit == false && !callPostMethod">
                                    <button mat-flat-button color="primary" (click)="callPutMethodEditFn('cancel')"
                                      type="button">Cancel
                                    </button>
                                    <button type="submit" mat-flat-button color="primary">Update
                                    </button>
                                  </div>
                                </td>
                              </tr>
                              <!-- buttons  end section -->
                            </tbody>
                          </table>
                        </mat-card-content>
                      </mat-card>
                      <!-- <div style="margin: 0 0 0 -40px;">
                        <button *ngIf="callPostMethod" type="submit" mat-flat-button color="primary" id=grid>Create
                          Limit</button>
                        <button *ngIf="callPutMethod" type="submit" mat-flat-button color="primary" id=grid>Update
                          Limit</button>
                      </div> -->
                    </form>
                  </mat-card-content>
                </mat-card>
              </div>
            </mat-tab>
            <!-- <mat-tab label="Limit Presenter">
              <div class="links">
                <mat-card>
                  <mat-card-content>
                    <h5 class="tab-text">SME Limit Maintanance
                      <div class="acc-bal-icon MuiGrid-root MuiGrid-item">
                        <svg class="MuiSvgIcon-root jss152 MuiSvgIcon-fontSizeLarge" focusable="false"
                          viewBox="0 0 24 24" aria-hidden="true">
                          <path d="M4 10h3v7H4zM10.5 10h3v7h-3zM2 19h20v3H2zM17 10h3v7h-3zM12 1L2 6v2h20V6z"></path>
                        </svg>
                      </div>
                    </h5>
                    <form [formGroup]="limitMaintanceForm" autocomplete="off" (ngSubmit)="onSubmitLimitForm()">

                      <div class="col-md-12">
                        <div class="col-md-6" style="width: 44%;float: right;padding: 0;">
                          <ng-container>
                            <div class="chart">
                              <div class="col-lg-10 grid-margin stretch-card p-0">
                                <div class="card">
                                  <div class="card-body">
                                    <div style="display: block;">
                                      <canvas baseChart [datasets]="barChartData" [labels]="barChartLabels"
                                        [options]="barChartOptions" [legend]="barChartLegend"
                                        [chartType]="barChartType">
                                      </canvas>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </ng-container>
                        </div>
                        <div class="col-md-6 col-xl-6 p-0">
                          <table class="table-responsive inv-table" style="display: contents;">
                            <tbody>
                              <tr>
                                <td rowspan="1" colspan="1">
                                  <mat-form-field dense class="icc-mat">
                                    <mat-label>Currency</mat-label>
                                    <select matNativeControl formControlName="ccy">
                                      <option value="SGD">SGD</option>
                                    </select>
                                  </mat-form-field>
                                </td>
                              </tr>
                              <tr>
                                <td rowspan="1" colspan="1">
                                  <mat-form-field dense class="icc-mat">
                                    <mat-label>Overall Limit</mat-label>
                                    <input type="text" matInput formControlName="overAllLimit"
                                      (keyup)="changesmelimit($event,'overAllLimit')" [readonly]="true" />
                                  </mat-form-field>
                                </td>

                              </tr>
                              <tr>
                                <td rowspan="1" colspan="1">
                                  <mat-form-field dense class="icc-mat">
                                    <mat-label>SME OverAll Limit </mat-label>
                                    <input type="text" matInput formControlName="smeoverAllLimit"
                                      (keyup)="changesmelimit($event,'smeoverAllLimit')" [readonly]="true" />
                                  </mat-form-field>
                                </td>

                              </tr>

                            </tbody>
                          </table>
                        </div>
                      </div>
                    </form>

                    <div style="margin-top:8%;">
                      <h5 class="tab-text">SME Limit Utilization
                        <div class="acc-bal-icon MuiGrid-root MuiGrid-item">
                          <svg class="MuiSvgIcon-root jss152 MuiSvgIcon-fontSizeLarge" focusable="false"
                            viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M4 10h3v7H4zM10.5 10h3v7h-3zM2 19h20v3H2zM17 10h3v7h-3zM12 1L2 6v2h20V6z"></path>
                          </svg>
                        </div>
                      </h5>
                      <div class="mat-elevation-z8">
                        <table class="table-responsive" mat-table [dataSource]="dataSourceTwo" style="width: 100%;">
                          <ng-container matColumnDef="sme">
                            <th mat-header-cell *matHeaderCellDef scope="column">SME</th>
                            <td mat-cell *matCellDef="let element;let row; let index = index">
                              {{element.sme}}
                            </td>
                          </ng-container>
                          <ng-container matColumnDef="country">
                            <th mat-header-cell *matHeaderCellDef scope="column">Country</th>
                            <td mat-cell *matCellDef="let element;let row; let index = index" class="desc-goods">
                              {{element.country}}
                            </td>
                          </ng-container>
                          <ng-container matColumnDef="utilizedAmt">
                            <th mat-header-cell *matHeaderCellDef scope="column">Utilized Amount</th>
                            <td mat-cell *matCellDef="let element;let row; let index = index">
                              {{element.utilizedAmt}}
                            </td>
                          </ng-container>

                          <ng-container matColumnDef="balAmt">
                            <th mat-header-cell *matHeaderCellDef scope="column">Balance Amount </th>
                            <td mat-cell *matCellDef="let element;let row; let index = index">
                              {{element.balanceAmt}}
                            </td>
                          </ng-container>
                          <tr mat-header-row *matHeaderRowDef="displayedColumnsTwo" style="background-color:#B4A6EA">
                          </tr>
                          <tr mat-row *matRowDef="let row; columns: displayedColumnsTwo"></tr>
                        </table>
                      </div>
                    </div>
                  </mat-card-content>
                </mat-card>
              </div>
            </mat-tab> -->

            <mat-tab label="Overall_ Transaction Limit">
              <div class="links">
                <mat-card>
                  <mat-card-content>
                    <form [formGroup]="newLimitGraphForm" autocomplete="off" (ngSubmit)="newLimitGraphFormSubmit()">
                      <div class="container-fluid">
                        <div class="row">
                          <div class="col-md-5">
                            <table class="table-responsive inv-table" style="display: contents;">
                              <tbody>
                                <tr>
                                  <td rowspan="1" colspan="1">
                                    <mat-form-field dense class="finlim-mat">
                                      <mat-label>Global Limit</mat-label>
                                      <input type="text" matInput formControlName="newglobalLimit"
                                        [readonly]=newLimit />
                                    </mat-form-field>
                                  </td>
                                </tr>
                                <!-- <tr>
                                  <td rowspan="1" colspan="1">
                                    <mat-form-field dense class="finlim-mat">
                                      <mat-label>SME Limit</mat-label>
                                      <input type="text" matInput formControlName="newsmeLimit" [readonly]=newLimit />
                                    </mat-form-field>
                                  </td>
                                </tr> -->
                                <tr>
                                  <td></td>
                                  <td rowspan="1" colspan="1">
                                    <div style="text-align: end;" *ngIf=newLimit>
                                      <button mat-flat-button color="primary" (click)=newLimitFn()>Edit</button>
                                    </div>
                                    <div style="text-align: end;" *ngIf="newLimit == false">
                                      <button mat-flat-button color="primary" (click)=newLimitFn()>Cancel</button>
                                      <button type="submit" mat-flat-button color="primary">submit</button>
                                    </div>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                          <div class="col-md-6">
                            <table class="table-bordered table" id="exposureTbl">
                              <tr>
                                <th>Utilization Slabs</th>
                                <th>Number of Bids</th>
                              </tr>
                              <!-- <tr  *ngFor="let item of transLimitUtilTableDatas; index as i;"></tr> -->
                              <tr>
                                <td>0 to 25%</td>
                                <td>{{transLimitUtilTableDatas[0]?
                                  transLimitUtilTableDatas[0].TRANS_COUNT:''}}</td>
                              </tr>
                              <tr>
                                <td>25% to 50%</td>
                                <td>{{transLimitUtilTableDatas[1]
                                  ?transLimitUtilTableDatas[1].TRANS_COUNT:''}}</td>
                              </tr>
                              <tr>
                                <td>50% to 75%</td>
                                <td>{{transLimitUtilTableDatas[2]?
                                  transLimitUtilTableDatas[2].TRANS_COUNT:''}}</td>
                              </tr>
                              <tr>
                                <td>75% to 100%</td>
                                <td>{{transLimitUtilTableDatas[3]?
                                  transLimitUtilTableDatas[3].TRANS_COUNT:''}}</td>
                              </tr>
                              <tr>
                                <td>100% (Full Utilization)</td>
                                <td>{{transLimitUtilTableDatas[4] ?
                                  transLimitUtilTableDatas[4].TRANS_COUNT:''}}</td>
                              </tr>
                            </table>
                          </div>
                        </div>
                        <!-- caurosel start -->
                        <span>
                          <button class="prev" *ngIf="tableLimit" (click)="prevGraph()">&#10094;</button>
                          <button class="next" *ngIf="graphLimit" (click)="prevTable()">&#10095;</button>
                        </span>
                        <div>

                          <div *ngIf="graphLimit">
                            <div class="row">
                              <div class="col-md-4">
                                <div class="chart">
                                  <div class="col-lg-12 grid-margin stretch-card p-0">
                                    <div class="card">
                                      <div class="card-body">
                                        <div style="display: block;">
                                          <canvas baseChart [datasets]="horizontalBarChartData" height="200px"
                                            width="300px" [labels]="horizontalBarChartLabels"
                                            [options]="horizontalBarChartOptions" [legend]="horizontalBarChartLegend"
                                            [chartType]="horizontalBarChartType">
                                          </canvas>
                                        </div>
                                        <!-- <canvas baseChart [chartType]="'line'" [datasets]="lineChartData" [labels]="lineChartLabels" [options]="lineChartOptions" [colors]="lineChartColors" height="150"></canvas> -->
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="col-md-4">
                                <div class="chart">
                                  <div class="col-lg-12 grid-margin stretch-card p-0">
                                    <div class="card">
                                      <div class="card-body">
                                        <div style="display: block;">
                                          <canvas baseChart [data]="pieChartData" [labels]="pieChartLabels"
                                            height="200px" width="300px" [chartType]="pieChartType"
                                            [options]="pieChartOptions" [plugins]="pieChartPlugins" [legend]="true">
                                          </canvas>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="col-md-4">
                                <div class="chart">
                                  <div class="col-lg-12 grid-margin stretch-card p-0">
                                    <div class="card">
                                      <div class="card-body">
                                        <div style="display: block;">
                                          <canvas baseChart [chartType]="chartType" [datasets]="chartData"
                                            height="200px" width="300px" [labels]="chartLabels" [colors]="chartColors"
                                            [options]="chartOptions" [legend]="true"
                                            (chartHover)="chartHovered($event)">
                                          </canvas>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                          <div *ngIf="tableLimit">
                            <div style="overflow-x:auto;">
                              <div id="container">
                                <div class="mat-elevation-z8">
                                  <table class="table-responsive" mat-table [dataSource]="dataSourceFour"
                                    style="width: 100%;">
                                    <ng-container matColumnDef="smeId">
                                      <th mat-header-cell *matHeaderCellDef scope="column">Overall Exposure Name</th>
                                      <td mat-cell *matCellDef="let element;let row; let index = index">
                                        {{element.smeId}}
                                      </td>
                                    </ng-container>
                                    <ng-container matColumnDef="utilPercent">
                                      <th mat-header-cell *matHeaderCellDef scope="column">Overall Exposure</th>
                                      <td mat-cell *matCellDef="let element;let row; let index = index"
                                        class="desc-goods">
                                        {{element.utilPercent}}%
                                      </td>
                                    </ng-container>
                                    <ng-container matColumnDef="exposureAmt">
                                      <th mat-header-cell *matHeaderCellDef scope="column">Overall Exposure Amount</th>
                                      <td mat-cell *matCellDef="let element;let row; let index = index">
                                        {{this.newLimitGraphForm.value.newsmeLimit}}
                                      </td>
                                    </ng-container>
                                    <ng-container matColumnDef="utilTotlAmt">
                                      <th mat-header-cell *matHeaderCellDef scope="column">Overall Total Utilized</th>
                                      <td mat-cell *matCellDef="let element;let row; let index = index">
                                        {{this.newLimitGraphForm.value.newsmeLimit * element.utilPercent / 100}}
                                      </td>
                                    </ng-container>

                                    <ng-container matColumnDef="amtAvailable">
                                      <th mat-header-cell *matHeaderCellDef scope="column">SME Amount Available </th>
                                      <td mat-cell *matCellDef="let element;let row; let index = index">
                                        {{this.newLimitGraphForm.value.newsmeLimit -
                                        this.newLimitGraphForm.value.newsmeLimit * element.utilPercent / 100}}
                                      </td>
                                    </ng-container>
                                    <tr mat-header-row *matHeaderRowDef="displayedColumnsFour"
                                      style="background-color:#B4A6EA">
                                    </tr>
                                    <tr mat-row *matRowDef="let row; columns: displayedColumnsFour"></tr>
                                  </table>
                                </div>
                              </div>
                            </div>
                          </div>



                        </div>

                        <br>

                        <!-- carousel end -->
                        <!-- chart start -->
                        <!-- <div class="row">
                          <div class="col-md-4">
                            <div class="chart">
                              <div class="col-lg-12 grid-margin stretch-card p-0">
                                <div class="card">
                                  <div class="card-body">
                                    <div style="display: block;">
                                      <canvas baseChart [datasets]="horizontalBarChartData" height="200px" width="300px"
                                        [labels]="horizontalBarChartLabels" [options]="horizontalBarChartOptions"
                                        [legend]="horizontalBarChartLegend" [chartType]="horizontalBarChartType">
                                      </canvas>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="chart">
                              <div class="col-lg-12 grid-margin stretch-card p-0">
                                <div class="card">
                                  <div class="card-body">
                                    <div style="display: block;">
                                      <canvas baseChart [data]="pieChartData" [labels]="pieChartLabels" height="200px"
                                        width="300px" [chartType]="pieChartType" [options]="pieChartOptions"
                                        [plugins]="pieChartPlugins" [legend]="true">
                                      </canvas>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="chart">
                              <div class="col-lg-12 grid-margin stretch-card p-0">
                                <div class="card">
                                  <div class="card-body">
                                    <div style="display: block;">
                                      <canvas baseChart [chartType]="chartType" [datasets]="chartData" height="200px"
                                        width="300px" [labels]="chartLabels" [colors]="chartColors"
                                        [options]="chartOptions" [legend]="true" (chartHover)="chartHovered($event)">
                                      </canvas>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div> -->
                        <!-- chart end -->
                      </div>
                    </form>

                    <!-- <mat-accordion>
                      <mat-expansion-panel>
                      </mat-expansion-panel>
                      <mat-expansion-panel (opened)="bidpanelOpenState = true" (closed)="bidpanelOpenState = false">
                        <mat-expansion-panel-header>
                          <mat-panel-title style="font-weight:500;color: #a899e4;">
                            <div class="acc-bal-icon MuiGrid-root MuiGrid-item">
                              <svg class="MuiSvgIcon-root jss152 MuiSvgIcon-fontSizeLarge" focusable="false"
                                viewBox="0 0 24 24" aria-hidden="true">
                                <path d="M4 10h3v7H4zM10.5 10h3v7h-3zM2 19h20v3H2zM17 10h3v7h-3zM12 1L2 6v2h20V6z">
                                </path>
                              </svg>
                            </div>
                            Overall Exposure Sub Screen (Based On Exposure Slot)
                          </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div style="overflow-x:auto;">
                          <div id="container">
                            <div class="mat-elevation-z8">
                              <table class="table-responsive" mat-table [dataSource]="dataSourceFour"
                                style="width: 100%;">
                                <ng-container matColumnDef="smeId">
                                  <th mat-header-cell *matHeaderCellDef scope="column">Overall Exposure Name</th>
                                  <td mat-cell *matCellDef="let element;let row; let index = index">
                                    {{element.smeId}}
                                  </td>
                                </ng-container>
                                <ng-container matColumnDef="utilPercent">
                                  <th mat-header-cell *matHeaderCellDef scope="column">Overall Exposure</th>
                                  <td mat-cell *matCellDef="let element;let row; let index = index" class="desc-goods">
                                    {{element.utilPercent}}%
                                  </td>
                                </ng-container>
                                <ng-container matColumnDef="exposureAmt">
                                  <th mat-header-cell *matHeaderCellDef scope="column">Overall Exposure Amount</th>
                                  <td mat-cell *matCellDef="let element;let row; let index = index">
                                    {{this.newLimitGraphForm.value.newsmeLimit}}
                                  </td>
                                </ng-container>
                                <ng-container matColumnDef="utilTotlAmt">
                                  <th mat-header-cell *matHeaderCellDef scope="column">Overall Total Utilized</th>
                                  <td mat-cell *matCellDef="let element;let row; let index = index">
                                    {{this.newLimitGraphForm.value.newsmeLimit * element.utilPercent / 100}}
                                  </td>
                                </ng-container>

                                <ng-container matColumnDef="amtAvailable">
                                  <th mat-header-cell *matHeaderCellDef scope="column">SME Amount Available </th>
                                  <td mat-cell *matCellDef="let element;let row; let index = index">
                                    {{this.newLimitGraphForm.value.newsmeLimit -
                                    this.newLimitGraphForm.value.newsmeLimit * element.utilPercent / 100}}
                                  </td>
                                </ng-container>
                                <tr mat-header-row *matHeaderRowDef="displayedColumnsFour"
                                  style="background-color:#B4A6EA">
                                </tr>
                                <tr mat-row *matRowDef="let row; columns: displayedColumnsFour"></tr>
                              </table>
                            </div>
                          </div>
                        </div>
                      </mat-expansion-panel>
                    </mat-accordion> -->
                  </mat-card-content>
                </mat-card>
              </div>
            </mat-tab>

            <mat-tab label="Country Exposure">
              <div class="links">
                <mat-card>
                  <mat-card-content>
                    <form [formGroup]="countrylimitMaintanceForm" autocomplete="off" (ngSubmit)="onSubmitLimitForm()">
                      <div class="container-fluid">
                        <div class="row">
                          <div class="col-md-5">
                            <table class="table-responsive inv-table" style="display: contents;">
                              <tbody>
                                <tr>
                                  <td rowspan="1" colspan="1">
                                    <mat-form-field dense class="icc-mat">
                                      <mat-label>Currency</mat-label>
                                      <select matNativeControl formControlName="countryccy">
                                        <!-- <option value=""></option> -->
                                        <option value="SGD">SGD</option>
                                        <!-- <option value="USD">USD</option>
                                                  <option value="GBP">GBP</option>
                                                  <option value="EUR">EUR</option>
                                                  <option value="JPY">JPY</option> -->
                                      </select>
                                    </mat-form-field>
                                  </td>

                                </tr>
                                <tr>
                                  <td rowspan="1" colspan="1">
                                    <mat-form-field dense class="icc-mat">
                                      <mat-label>Overall Limit</mat-label>
                                      <input type="text" matInput formControlName="countryoverAllLimit"
                                        (keyup)="changecountrylimit($event,'overAllLimit')" [readonly]="true" />
                                    </mat-form-field>
                                  </td>
                                </tr>
                                <tr>
                                  <td rowspan="1" colspan="1">
                                    <mat-form-field dense class="icc-mat">
                                      <mat-label>Country Exposure</mat-label>
                                      <input type="text" matInput formControlName="countrysmeoverAllLimit"
                                        (keyup)="changecountrylimit($event,'countryoverAllLimit')" [readonly]="true" />
                                    </mat-form-field>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                          <div class="col-md-6">
                            <table class="table-bordered table" id="exposureTbl">
                              <tr>
                                <th>Utilization Slabs</th>
                                <th>Number of Bids</th>
                              </tr>
                              <tr>
                                <td>0 to 25%</td>
                                <td>{{transLimitUtilTableDatas[0] ? transLimitUtilTableDatas[0].TRANS_COUNT:
                                  ""}}</td>
                              </tr>
                              <tr>
                                <td>25% to 50%</td>
                                <td>{{transLimitUtilTableDatas[1] ?
                                  transLimitUtilTableDatas[1].TRANS_COUNT:"" }}</td>
                              </tr>
                              <tr>
                                <td>50% to 75%</td>
                                <td>{{transLimitUtilTableDatas[2] ?
                                  transLimitUtilTableDatas[2].TRANS_COUNT:''}}</td>
                              </tr>
                              <tr>
                                <td>75% to 100%</td>
                                <td>{{transLimitUtilTableDatas[3]?
                                  transLimitUtilTableDatas[3].TRANS_COUNT:''}}</td>
                              </tr>
                              <tr>
                                <td>100% (Full Utilization)</td>
                                <td>{{transLimitUtilTableDatas[4] ?transLimitUtilTableDatas[4].TRANS_COUNT
                                  :''}}</td>
                              </tr>
                            </table>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-4">
                            <div class="chart">
                              <div class="col-lg-12 grid-margin stretch-card p-0">
                                <div class="card">
                                  <div class="card-body">
                                    <div style="display: block;">
                                      <canvas baseChart [datasets]="horizontalBarChartData" height="200px" width="300px"
                                        [labels]="horizontalBarChartLabels" [options]="horizontalBarChartOptions"
                                        [legend]="horizontalBarChartLegend" [chartType]="horizontalBarChartType">
                                      </canvas>
                                    </div>
                                    <!-- <canvas baseChart [chartType]="'line'" [datasets]="lineChartData" [labels]="lineChartLabels" [options]="lineChartOptions" [colors]="lineChartColors" height="150"></canvas> -->
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="chart">
                              <div class="col-lg-12 grid-margin stretch-card p-0">
                                <div class="card">
                                  <div class="card-body">
                                    <div style="display: block;">
                                      <canvas baseChart [data]="pieChartData" [labels]="pieChartLabels" height="200px"
                                        width="300px" [chartType]="pieChartType" [options]="pieChartOptions"
                                        [plugins]="pieChartPlugins" [legend]="true">
                                      </canvas>
                                    </div>
                                    <!-- <canvas baseChart [chartType]="'line'" [datasets]="lineChartData" [labels]="lineChartLabels" [options]="lineChartOptions" [colors]="lineChartColors" height="150"></canvas> -->
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="chart">
                              <div class="col-lg-12 grid-margin stretch-card p-0">
                                <div class="card">
                                  <div class="card-body">
                                    <div style="display: block;">
                                      <canvas baseChart [chartType]="chartType" [datasets]="chartData" height="200px"
                                        width="300px" [labels]="chartLabels" [colors]="chartColors"
                                        [options]="chartOptions" [legend]="true" (chartHover)="chartHovered($event)">
                                      </canvas>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </form>
                    <mat-accordion>
                      <mat-expansion-panel>
                      </mat-expansion-panel>
                      <mat-expansion-panel (opened)="bidpanelOpenState = true" (closed)="bidpanelOpenState = false">
                        <mat-expansion-panel-header>
                          <mat-panel-title style="font-weight:500;color: #a899e4;">
                            <div class="acc-bal-icon MuiGrid-root MuiGrid-item">
                              <svg class="MuiSvgIcon-root jss152 MuiSvgIcon-fontSizeLarge" focusable="false"
                                viewBox="0 0 24 24" aria-hidden="true">
                                <path d="M4 10h3v7H4zM10.5 10h3v7h-3zM2 19h20v3H2zM17 10h3v7h-3zM12 1L2 6v2h20V6z">
                                </path>
                              </svg>
                            </div>
                            Country Limit Maintanance
                          </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div style="overflow-x:auto;">
                          <div id="container">
                            <div class="mat-elevation-z8">
                              <table class="table-responsive" mat-table [dataSource]="dataSourceThree"
                                style="width: 100%;">
                                <ng-container matColumnDef="country">
                                  <th mat-header-cell *matHeaderCellDef scope="column">Country</th>
                                  <td mat-cell *matCellDef="let element;let row; let index = index" class="desc-goods">
                                    {{element.country}}
                                  </td>
                                </ng-container>
                                <ng-container matColumnDef="utzAmt">
                                  <th mat-header-cell *matHeaderCellDef scope="column">Utilized Amount</th>
                                  <td mat-cell *matCellDef="let element;let row; let index = index">
                                    {{element.utzAmt}}
                                  </td>
                                </ng-container>

                                <ng-container matColumnDef="avlAmt">
                                  <th mat-header-cell *matHeaderCellDef scope="column">Available Amount </th>
                                  <td mat-cell *matCellDef="let element;let row; let index = index">
                                    {{element.avlAmt}}
                                  </td>
                                </ng-container>
                                <tr mat-header-row *matHeaderRowDef="displayedColumnsThree"
                                  style="background-color:#B4A6EA">
                                </tr>
                                <tr mat-row *matRowDef="let row; columns: displayedColumnsThree"></tr>

                              </table>
                            </div>
                          </div>
                        </div>
                      </mat-expansion-panel>
                    </mat-accordion>
                  </mat-card-content>
                </mat-card>
              </div>
            </mat-tab>
            <!---New  -->
            <mat-tab label="Sme Exposure">
              <div class="links">
                <mat-card>
                  <mat-card-content>
                    <form [formGroup]="newLimitGraphForm" autocomplete="off" (ngSubmit)="newLimitGraphFormSubmit()">
                      <div class="container-fluid">
                        <div class="row">
                          <div class="col-md-5">
                            <table class="table-responsive inv-table" style="display: contents;">
                              <tbody>
                                <tr>
                                  <td rowspan="1" colspan="1">
                                    <mat-form-field dense class="finlim-mat">
                                      <mat-label>Global Limit</mat-label>
                                      <input type="text" matInput formControlName="newglobalLimit"
                                        [readonly]=newLimit />
                                    </mat-form-field>
                                  </td>
                                </tr>
                                <tr>
                                  <td rowspan="1" colspan="1">
                                    <mat-form-field dense class="finlim-mat">
                                      <mat-label>SME Exposure Limit</mat-label>
                                      <input type="text" matInput formControlName="newsmeLimit" [readonly]=newLimit />
                                    </mat-form-field>
                                  </td>
                                </tr>
                                <tr>
                                  <td></td>
                                  <td rowspan="1" colspan="1">
                                    <div style="text-align: end;" *ngIf=newLimit>
                                      <button mat-flat-button color="primary" (click)=newLimitFn()>Edit</button>
                                    </div>
                                    <div style="text-align: end;" *ngIf="newLimit == false">
                                      <button mat-flat-button color="primary" (click)=newLimitFn()>Cancel</button>
                                      <button type="submit" mat-flat-button color="primary">submit</button>
                                    </div>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                          <div class="col-md-6">
                            <table class="table-bordered table" id="exposureTbl">
                              <tr>
                                <th>Utilization Slabs</th>
                                <th>Number of Bids</th>
                              </tr>
                              <tr>
                                <td>0 to 25%</td>
                                <td>{{smetransLimitUtilTableDatas[0]
                                  ?smetransLimitUtilTableDatas[0].TRANS_COUNT:''}}</td>
                              </tr>
                              <tr>
                                <td>25% to 50%</td>
                                <td>{{smetransLimitUtilTableDatas[1] ?
                                  smetransLimitUtilTableDatas[1].TRANS_COUNT:''}}</td>
                              </tr>
                              <tr>
                                <td>50% to 75%</td>
                                <td>{{smetransLimitUtilTableDatas[2] ?
                                  smetransLimitUtilTableDatas[2].TRANS_COUNT:''}}</td>
                              </tr>
                              <tr>
                                <td>75% to 100%</td>
                                <td>{{smetransLimitUtilTableDatas[3]
                                  ?smetransLimitUtilTableDatas[3].TRANS_COUNT:''}}</td>
                              </tr>
                              <tr>
                               
                                <td>100% (Full Utilization)</td>
                                <td>{{smetransLimitUtilTableDatas[4] ?
                                  smetransLimitUtilTableDatas[4].TRANS_COUNT:' '}}</td>
                              </tr>
                            </table>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-4">
                            <div class="chart">
                              <div class="col-lg-12 grid-margin stretch-card p-0">
                                <div class="card">
                                  <div class="card-body">
                                    <div style="display: block;">
                                      <canvas baseChart [datasets]="horizontalBarChartData" height="200px" width="300px"
                                        [labels]="horizontalBarChartLabels" [options]="horizontalBarChartOptions"
                                        [legend]="horizontalBarChartLegend" [chartType]="horizontalBarChartType">
                                      </canvas>
                                    </div>
                                    <!-- <canvas baseChart [chartType]="'line'" [datasets]="lineChartData" [labels]="lineChartLabels" [options]="lineChartOptions" [colors]="lineChartColors" height="150"></canvas> -->
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="chart">
                              <div class="col-lg-12 grid-margin stretch-card p-0">
                                <div class="card">
                                  <div class="card-body">
                                    <div style="display: block;">
                                      <canvas baseChart [data]="pieChartData" [labels]="pieChartLabels" height="200px"
                                        width="300px" [chartType]="pieChartType" [options]="pieChartOptions"
                                        [plugins]="pieChartPlugins" [legend]="true">
                                      </canvas>
                                    </div>
                                    <!-- <canvas baseChart [chartType]="'line'" [datasets]="lineChartData" [labels]="lineChartLabels" [options]="lineChartOptions" [colors]="lineChartColors" height="150"></canvas> -->
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="chart">
                              <div class="col-lg-12 grid-margin stretch-card p-0">
                                <div class="card">
                                  <div class="card-body">
                                    <div style="display: block;">
                                      <canvas baseChart [chartType]="chartType" [datasets]="chartData" height="200px"
                                        width="300px" [labels]="chartLabels" [colors]="chartColors"
                                        [options]="chartOptions" [legend]="true" (chartHover)="chartHovered($event)">
                                      </canvas>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </form>
                    <mat-accordion>
                      <mat-expansion-panel>
                      </mat-expansion-panel>
                      <mat-expansion-panel (opened)="bidpanelOpenState = true" (closed)="bidpanelOpenState = false">
                        <mat-expansion-panel-header>
                          <mat-panel-title style="font-weight:500;color: #a899e4;">
                            <div class="acc-bal-icon MuiGrid-root MuiGrid-item">
                              <svg class="MuiSvgIcon-root jss152 MuiSvgIcon-fontSizeLarge" focusable="false"
                                viewBox="0 0 24 24" aria-hidden="true">
                                <path d="M4 10h3v7H4zM10.5 10h3v7h-3zM2 19h20v3H2zM17 10h3v7h-3zM12 1L2 6v2h20V6z">
                                </path>
                              </svg>
                            </div>
                            SME Limit Sub Screen (Based On Exposure Slot)
                          </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div style="overflow-x:auto;">
                          <div id="container">
                            <div class="mat-elevation-z8">
                              <table class="table-responsive" mat-table [dataSource]="dataSourceFour"
                                style="width: 100%;">
                                <ng-container matColumnDef="smeId">
                                  <th mat-header-cell *matHeaderCellDef scope="column">{{'SME Name' | translate}}</th>
                                  <td mat-cell *matCellDef="let element;let row; let index = index">
                                    {{element.smeId}}
                                  </td>
                                </ng-container>
                                <ng-container matColumnDef="utilPercent">
                                  <th mat-header-cell *matHeaderCellDef scope="column">SME Exposure</th>
                                  <td mat-cell *matCellDef="let element;let row; let index = index" class="desc-goods">
                                    {{element.utilPercent}}%
                                  </td>
                                </ng-container>
                                <ng-container matColumnDef="exposureAmt">
                                  <th mat-header-cell *matHeaderCellDef scope="column">SME Exposure Amount</th>
                                  <td mat-cell *matCellDef="let element;let row; let index = index">
                                    {{this.newLimitGraphForm.value.newsmeLimit}}
                                  </td>
                                </ng-container>
                                <ng-container matColumnDef="utilTotlAmt">
                                  <th mat-header-cell *matHeaderCellDef scope="column">SME Total Utilized</th>
                                  <td mat-cell *matCellDef="let element;let row; let index = index">
                                    {{this.newLimitGraphForm.value.newsmeLimit * element.utilPercent / 100}}
                                  </td>
                                </ng-container>

                                <ng-container matColumnDef="amtAvailable">
                                  <th mat-header-cell *matHeaderCellDef scope="column">SME Amount Available </th>
                                  <td mat-cell *matCellDef="let element;let row; let index = index">
                                    {{this.newLimitGraphForm.value.newsmeLimit -
                                    this.newLimitGraphForm.value.newsmeLimit * element.utilPercent / 100}}
                                  </td>
                                </ng-container>
                                <tr mat-header-row *matHeaderRowDef="displayedColumnsFour"
                                  style="background-color:#B4A6EA">
                                </tr>
                                <tr mat-row *matRowDef="let row; columns: displayedColumnsFour"></tr>
                              </table>
                            </div>
                          </div>
                        </div>
                      </mat-expansion-panel>
                    </mat-accordion>
                  </mat-card-content>
                </mat-card>
              </div>
            </mat-tab>


            <mat-tab label="Sector Exposure">
              <div class="links">
                <mat-card>
                  <mat-card-content>
                    <form [formGroup]="newLimitGraphForm" autocomplete="off" (ngSubmit)="newLimitGraphFormSubmit()">
                      <div class="container-fluid">
                        <div class="row">
                          <div class="col-md-5">
                            <table class="table-responsive inv-table" style="display: contents;">
                              <tbody>
                                <tr>
                                  <td rowspan="1" colspan="1">
                                    <mat-form-field dense class="finlim-mat">
                                      <mat-label>Global Limit</mat-label>
                                      <input type="text" matInput formControlName="newglobalLimit"
                                        [readonly]=newLimit />
                                    </mat-form-field>
                                  </td>
                                </tr>
                                <tr>
                                  <td rowspan="1" colspan="1">
                                    <mat-form-field dense class="finlim-mat">
                                      <mat-label>Sector Exposure Limit</mat-label>
                                      <input type="text" matInput formControlName="newsmeLimit" [readonly]=newLimit />
                                    </mat-form-field>
                                  </td>
                                </tr>
                                <tr>
                                  <td></td>
                                  <td rowspan="1" colspan="1">
                                    <div style="text-align: end;" *ngIf=newLimit>
                                      <button mat-flat-button color="primary" (click)=newLimitFn()>Edit</button>
                                    </div>
                                    <div style="text-align: end;" *ngIf="newLimit == false">
                                      <button mat-flat-button color="primary" (click)=newLimitFn()>Cancel</button>
                                      <button type="submit" mat-flat-button color="primary">submit</button>
                                    </div>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                          <div class="col-md-6">
                            <table class="table-bordered table" id="exposureTbl">
                              <tr>
                                <th>Utilization Slabs</th>
                                <th>Number of Bids</th>
                              </tr>
                              <tr>
                                <td>0 to 25%</td>
                                <!-- <td>{{checkValue(50)}}</td> -->

                                <td>{{sectorTableDatas[0]
                                  ?sectorTableDatas[0].TRANS_COUNT:''}}</td>
                              </tr>
                              <tr>
                                <td>25% to 50%</td>
                                <td>{{sectorTableDatas[1] ?
                                  sectorTableDatas[1].TRANS_COUNT:''}}</td>
                              </tr>
                              <tr>
                                <td>50% to 75%</td>
                                <td>{{sectorTableDatas[2] ?
                                  sectorTableDatas[2].TRANS_COUNT:''}}</td>
                              </tr>
                              <tr>
                                <td>75% to 100%</td>
                                <td>{{sectorTableDatas[3]
                                  ?sectorTableDatas[3].TRANS_COUNT:''}}</td>
                              </tr>
                              <tr>
                               
                                <td>100% (Full Utilization)</td>
                                <td>{{sectorTableDatas[4] ?
                                  sectorTableDatas[4].TRANS_COUNT:' '}}</td>
                              </tr>
                            </table>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-4">
                            <div class="chart">
                              <div class="col-lg-12 grid-margin stretch-card p-0">
                                <div class="card">
                                  <div class="card-body">
                                    <div style="display: block;">
                                      <canvas baseChart [datasets]="horizontalBarChartData" height="200px" width="300px"
                                        [labels]="horizontalBarChartLabels" [options]="horizontalBarChartOptions"
                                        [legend]="horizontalBarChartLegend" [chartType]="horizontalBarChartType">
                                      </canvas>
                                    </div>
                                    <!-- <canvas baseChart [chartType]="'line'" [datasets]="lineChartData" [labels]="lineChartLabels" [options]="lineChartOptions" [colors]="lineChartColors" height="150"></canvas> -->
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="chart">
                              <div class="col-lg-12 grid-margin stretch-card p-0">
                                <div class="card">
                                  <div class="card-body">
                                    <div style="display: block;">
                                      <canvas baseChart [data]="pieChartData" [labels]="pieChartLabels" height="200px"
                                        width="300px" [chartType]="pieChartType" [options]="pieChartOptions"
                                        [plugins]="pieChartPlugins" [legend]="true">
                                      </canvas>
                                    </div>
                                    <!-- <canvas baseChart [chartType]="'line'" [datasets]="lineChartData" [labels]="lineChartLabels" [options]="lineChartOptions" [colors]="lineChartColors" height="150"></canvas> -->
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="chart">
                              <div class="col-lg-12 grid-margin stretch-card p-0">
                                <div class="card">
                                  <div class="card-body">
                                    <div style="display: block;">
                                      <canvas baseChart [chartType]="chartType" [datasets]="chartData" height="200px"
                                        width="300px" [labels]="chartLabels" [colors]="chartColors"
                                        [options]="chartOptions" [legend]="true" (chartHover)="chartHovered($event)">
                                      </canvas>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </form>
                    <mat-accordion>
                      <mat-expansion-panel>
                      </mat-expansion-panel>
                      <mat-expansion-panel (opened)="bidpanelOpenState = true" (closed)="bidpanelOpenState = false">
                        <mat-expansion-panel-header>
                          <mat-panel-title style="font-weight:500;color: #a899e4;">
                            <div class="acc-bal-icon MuiGrid-root MuiGrid-item">
                              <svg class="MuiSvgIcon-root jss152 MuiSvgIcon-fontSizeLarge" focusable="false"
                                viewBox="0 0 24 24" aria-hidden="true">
                                <path d="M4 10h3v7H4zM10.5 10h3v7h-3zM2 19h20v3H2zM17 10h3v7h-3zM12 1L2 6v2h20V6z">
                                </path>
                              </svg>
                            </div>
                            Sector Exposure Sub Screen (Based On Exposure Slot)
                          </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div style="overflow-x:auto;">
                          <div id="container">
                            <div class="mat-elevation-z8">
                              <table class="table-responsive" mat-table [dataSource]="dataSourceFour"
                                style="width: 100%;">
                                <ng-container matColumnDef="smeId">
                                  <th mat-header-cell *matHeaderCellDef scope="column">Sector Name</th>
                                  <td mat-cell *matCellDef="let element;let row; let index = index">
                                    {{element.smeId}}
                                  </td>
                                </ng-container>
                                <ng-container matColumnDef="utilPercent">
                                  <th mat-header-cell *matHeaderCellDef scope="column">Sector Exposure</th>
                                  <td mat-cell *matCellDef="let element;let row; let index = index" class="desc-goods">
                                    {{element.utilPercent}}%
                                  </td>
                                </ng-container>
                                <ng-container matColumnDef="exposureAmt">
                                  <th mat-header-cell *matHeaderCellDef scope="column">Sector Exposure Amount</th>
                                  <td mat-cell *matCellDef="let element;let row; let index = index">
                                    {{this.newLimitGraphForm.value.newsmeLimit}}
                                  </td>
                                </ng-container>
                                <ng-container matColumnDef="utilTotlAmt">
                                  <th mat-header-cell *matHeaderCellDef scope="column">Sector Total Utilized</th>
                                  <td mat-cell *matCellDef="let element;let row; let index = index">
                                    {{this.newLimitGraphForm.value.newsmeLimit * element.utilPercent / 100}}
                                  </td>
                                </ng-container>

                                <ng-container matColumnDef="amtAvailable">
                                  <th mat-header-cell *matHeaderCellDef scope="column">Sector Amount Available </th>
                                  <td mat-cell *matCellDef="let element;let row; let index = index">
                                    {{this.newLimitGraphForm.value.newsmeLimit -
                                    this.newLimitGraphForm.value.newsmeLimit * element.utilPercent / 100}}
                                  </td>
                                </ng-container>
                                <tr mat-header-row *matHeaderRowDef="displayedColumnsFour"
                                  style="background-color:#B4A6EA">
                                </tr>
                                <tr mat-row *matRowDef="let row; columns: displayedColumnsFour"></tr>
                              </table>
                            </div>
                          </div>
                        </div>
                      </mat-expansion-panel>
                    </mat-accordion>
                  </mat-card-content>
                </mat-card>
              </div>
            </mat-tab>
            <!-- New  -->
          </mat-tab-group>
        </div>
      </div>
    </div>
  </header>
</div>