<div class="app-content">
  <header>
    <!-- <div class="container-fluid contnr-div"> -->
    <div class="row">
      <div class="col-md-12">
        <mat-tab-group dynamicHeight>
          <!--Limit Maintanance-->
          <mat-tab label="Limit Maintanance">
            <div class="links">
              <mat-card>
                <mat-card-content>
                  <h5 class="tab-text">Limit Maintanance
                    <div class="acc-bal-icon MuiGrid-root MuiGrid-item">
                      <svg class="MuiSvgIcon-root jss152 MuiSvgIcon-fontSizeLarge" focusable="false" viewBox="0 0 24 24"
                        aria-hidden="true">
                        <path d="M4 10h3v7H4zM10.5 10h3v7h-3zM2 19h20v3H2zM17 10h3v7h-3zM12 1L2 6v2h20V6z"></path>
                      </svg>
                    </div>
                  </h5>
                  <form [formGroup]="mainlimitMaintanceForm" autocomplete="off"
                    (ngSubmit)="mainlimitMaintanceFormSubmit()">
                    <mat-card>
                      <mat-card-content>
                        <table class="table-responsive inv-table" style="display: contents;">
                          <tbody>
                            <tr>
                              <td rowspan="1" colspan="1">
                                <mat-form-field dense class="icc-mat">
                                  <mat-label>Currency</mat-label>
                                  <select matNativeControl formControlName="mainlimitccy">
                                    <!-- <option value=""></option> -->
                                    <option value="SGD">SGD</option>
                                    <!-- <option value="USD">USD</option>
                                                <option value="GBP">GBP</option>
                                                <option value="EUR">EUR</option>
                                                <option value="JPY">JPY</option> -->
                                  </select>
                                </mat-form-field>
                              </td>
                              <!-- </tr>
                              <tr> -->
                              <td rowspan="1" colspan="1">
                                <mat-form-field dense class="icc-mat">
                                  <mat-label>Global Limit</mat-label>
                                  <input type="text" matInput formControlName="mainoverallexposure"
                                    [readonly]=callPutMethodEdit />
                                </mat-form-field>
                              </td>

                              <!-- </tr>
                              <tr> -->
                              <td rowspan="1" colspan="1">
                                <mat-form-field dense class="icc-mat">
                                  <mat-label>Country Limit</mat-label>
                                  <input type="text" matInput formControlName="maincountryexposure"
                                    (keyup)="changecountrylimit($event,'countryoverAllLimit')"
                                    [readonly]=callPutMethodEdit />
                                </mat-form-field>
                              </td>

                            </tr>
                            <tr>
                              <td rowspan="1" colspan="1">
                                <mat-form-field dense class="icc-mat">
                                  <mat-label>SME Limit</mat-label>
                                  <input type="text" matInput formControlName="mainsmeexposure"
                                    (keyup)="changesmelimit($event,'smeoverAllLimit')" [readonly]=callPutMethodEdit />
                                </mat-form-field>
                              </td>

                              <!-- </tr>
                              <tr> -->
                              <td rowspan="1" colspan="1">
                                <mat-form-field dense class="icc-mat">
                                  <mat-label>Sector Limit</mat-label>
                                  <input type="text" matInput formControlName="mainsector"
                                    [readonly]=callPutMethodEdit />
                                </mat-form-field>
                              </td>

                              <!-- </tr>

                              <tr> -->
                              <td rowspan="1" colspan="1">
                                <mat-form-field dense class="icc-mat">
                                  <mat-label>Transaction Limit</mat-label>
                                  <input type="text" matInput formControlName="transactions"
                                    [readonly]=callPutMethodEdit />
                                </mat-form-field>
                              </td>

                            </tr>

                            <tr>
                              <td rowspan="1" colspan="1">
                                <mat-form-field dense class="icc-mat">
                                  <mat-label>Buyer Limit</mat-label>
                                  <input type="text" matInput formControlName="buyerLimit"
                                    [readonly]=callPutMethodEdit />
                                </mat-form-field>
                              </td>

                              <td rowspan="1" colspan="1" *ngIf="callPutMethodEdit">
                                <mat-form-field dense class="icc-mat">
                                  <mat-label>Global Available Limit</mat-label>
                                  <input type="text" matInput formControlName="mainOverallAvailable" [readonly]=true />
                                </mat-form-field>
                              </td>

                              <!-- </tr>
                                <tr> -->
                              <td rowspan="1" colspan="1">
                                <div *ngIf="callPostMethod">
                                  <button *ngIf="callPostMethod" type="submit" mat-flat-button color="primary"
                                    id=grid>Create
                                    Limit</button>
                                </div>
                                <div style="text-align: end;" *ngIf="callPutMethodEdit && !callPostMethod">
                                  <button *ngIf="callPutMethodEdit" mat-flat-button color="primary"
                                    (click)="callPutMethodEditFn('edit')">Edit
                                    Limit</button>
                                </div>
                                <div style="text-align: end;" *ngIf="callPutMethodEdit == false && !callPostMethod">
                                  <button mat-flat-button color="primary" (click)="callPutMethodEditFn('cancel')"
                                    type="button">Cancel
                                  </button>
                                  <button type="submit" mat-flat-button color="primary">Update
                                  </button>
                                </div>
                              </td>
                            </tr>
                            <!-- buttons  end section -->
                          </tbody>
                        </table>
                      </mat-card-content>
                    </mat-card>
                    <!-- <div style="margin: 0 0 0 -40px;">
                        <button *ngIf="callPostMethod" type="submit" mat-flat-button color="primary" id=grid>Create
                          Limit</button>
                        <button *ngIf="callPutMethod" type="submit" mat-flat-button color="primary" id=grid>Update
                          Limit</button>
                      </div> -->
                  </form>
                </mat-card-content>
              </mat-card>
            </div>
          </mat-tab>
          <!--Limit Maintanance-->
          <!-- <mat-tab label="Limit Presenter">
              <div class="links">
                <mat-card>
                  <mat-card-content>
                    <h5 class="tab-text">SME Limit Maintanance
                      <div class="acc-bal-icon MuiGrid-root MuiGrid-item">
                        <svg class="MuiSvgIcon-root jss152 MuiSvgIcon-fontSizeLarge" focusable="false"
                          viewBox="0 0 24 24" aria-hidden="true">
                          <path d="M4 10h3v7H4zM10.5 10h3v7h-3zM2 19h20v3H2zM17 10h3v7h-3zM12 1L2 6v2h20V6z"></path>
                        </svg>
                      </div>
                    </h5>
                    <form [formGroup]="limitMaintanceForm" autocomplete="off" (ngSubmit)="onSubmitLimitForm()">

                      <div class="col-md-12">
                        <div class="col-md-6" style="width: 44%;float: right;padding: 0;">
                          <ng-container>
                            <div class="chart">
                              <div class="col-lg-10 grid-margin stretch-card p-0">
                                <div class="card">
                                  <div class="card-body">
                                    <div style="display: block;">
                                      <canvas baseChart [datasets]="barChartData" [labels]="barChartLabels"
                                        [options]="barChartOptions" [legend]="barChartLegend"
                                        [chartType]="barChartType">
                                      </canvas>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </ng-container>
                        </div>
                        <div class="col-md-6 col-xl-6 p-0">
                          <table class="table-responsive inv-table" style="display: contents;">
                            <tbody>
                              <tr>
                                <td rowspan="1" colspan="1">
                                  <mat-form-field dense class="icc-mat">
                                    <mat-label>Currency</mat-label>
                                    <select matNativeControl formControlName="ccy">
                                      <option value="SGD">SGD</option>
                                    </select>
                                  </mat-form-field>
                                </td>
                              </tr>
                              <tr>
                                <td rowspan="1" colspan="1">
                                  <mat-form-field dense class="icc-mat">
                                    <mat-label>Global Limit</mat-label>
                                    <input type="text" matInput formControlName="overAllLimit"
                                      (keyup)="changesmelimit($event,'overAllLimit')" [readonly]="true" />
                                  </mat-form-field>
                                </td>

                              </tr>
                              <tr>
                                <td rowspan="1" colspan="1">
                                  <mat-form-field dense class="icc-mat">
                                    <mat-label>SME OverAll Limit </mat-label>
                                    <input type="text" matInput formControlName="smeoverAllLimit"
                                      (keyup)="changesmelimit($event,'smeoverAllLimit')" [readonly]="true" />
                                  </mat-form-field>
                                </td>

                              </tr>

                            </tbody>
                          </table>
                        </div>
                      </div>
                    </form>

                    <div style="margin-top:8%;">
                      <h5 class="tab-text">SME Limit Utilization
                        <div class="acc-bal-icon MuiGrid-root MuiGrid-item">
                          <svg class="MuiSvgIcon-root jss152 MuiSvgIcon-fontSizeLarge" focusable="false"
                            viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M4 10h3v7H4zM10.5 10h3v7h-3zM2 19h20v3H2zM17 10h3v7h-3zM12 1L2 6v2h20V6z"></path>
                          </svg>
                        </div>
                      </h5>
                      <div class="mat-elevation-z8">
                        <table class="table-responsive" mat-table [dataSource]="dataSourceTwo" style="width: 100%;">
                          <ng-container matColumnDef="sme">
                            <th mat-header-cell *matHeaderCellDef scope="column">SME</th>
                            <td mat-cell *matCellDef="let element;let row; let index = index">
                              {{element.sme}}
                            </td>
                          </ng-container>
                          <ng-container matColumnDef="country">
                            <th mat-header-cell *matHeaderCellDef scope="column">Country</th>
                            <td mat-cell *matCellDef="let element;let row; let index = index" class="desc-goods">
                              {{element.country}}
                            </td>
                          </ng-container>
                          <ng-container matColumnDef="utilizedAmt">
                            <th mat-header-cell *matHeaderCellDef scope="column">Utilized Amount</th>
                            <td mat-cell *matCellDef="let element;let row; let index = index">
                              {{element.utilizedAmt}}
                            </td>
                          </ng-container>

                          <ng-container matColumnDef="balAmt">
                            <th mat-header-cell *matHeaderCellDef scope="column">Balance Amount </th>
                            <td mat-cell *matCellDef="let element;let row; let index = index">
                              {{element.balanceAmt}}
                            </td>
                          </ng-container>
                          <tr mat-header-row *matHeaderRowDef="displayedColumnsTwo" style="background-color:#B4A6EA">
                          </tr>
                          <tr mat-row *matRowDef="let row; columns: displayedColumnsTwo"></tr>
                        </table>
                      </div>
                    </div>
                  </mat-card-content>
                </mat-card>
              </div>
            </mat-tab> -->

          <!--- Overall_Transaction Exposure Limit-->
          <mat-tab label="Global and Transaction Limit">
            <div class="links">
              <mat-card>
                <mat-card-content>
                  <form [formGroup]="newLimitGraphForm" autocomplete="off" (ngSubmit)="newLimitGraphFormSubmit()">
                    <div class="container-fluid">
                      <div class="row">
                        <div class="col-md-5">
                          <table class="table-responsive inv-table" style="display: contents;">
                            <tbody>
                              <tr>
                                <td rowspan="1" colspan="1">
                                  <mat-form-field dense class="finlim-mat">
                                    <mat-label>Currency</mat-label>
                                    <select matNativeControl formControlName="newglobalCcy" [readonly]=newLimit>
                                      <option value="SGD">SGD</option>
                                    </select>
                                  </mat-form-field>
                                </td>
                              </tr>
                              <tr>
                                <td rowspan="1" colspan="1">
                                  <mat-form-field dense class="finlim-mat">
                                    <mat-label>Global Limit</mat-label>
                                    <input type="text" matInput formControlName="newglobalLimit" [readonly]=newLimit />
                                  </mat-form-field>
                                </td>
                              </tr>
                              <tr>
                                <td rowspan="1" colspan="1">
                                  <mat-form-field dense class="finlim-mat">
                                    <mat-label>Transaction Limit</mat-label>
                                    <input type="text" matInput formControlName="newtransactionLimit"
                                      [readonly]=newLimit />
                                  </mat-form-field>
                                </td>
                              </tr>
                              <tr>
                                <td></td>
                                <td rowspan="1" colspan="1">
                                  <div style="text-align: end;" *ngIf=newLimit>
                                    <button style="bottom: 24px;" mat-flat-button color="primary"
                                      (click)=newLimitFn()>Edit</button>
                                  </div>
                                  <div style="text-align: end;" *ngIf="newLimit == false">
                                    <button style="bottom: 24px;" mat-flat-button color="primary"
                                      (click)=newLimitFn()>Cancel</button>
                                    <button style="bottom: 24px;" type="submit" mat-flat-button
                                      color="primary">submit</button>
                                  </div>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                        <div class="col-md-6 hover">
                          <table class="table-bordered table" id="exposureTbl">
                            <tr>
                              <th>Utilization Slabs</th>
                              <th>Number of Bids</th>
                            </tr>
                            <!-- <tr  *ngFor="let item of transLimitUtilTableDatas; index as i;"></tr> -->
                            <tr (click)="overtransTableDepenData('25')">
                              <td>0 to 25%</td>
                              <td>{{transLimitUtilTableDatas[0]?
                                transLimitUtilTableDatas[0].TRANS_COUNT:''}}</td>
                            </tr>
                            <tr (click)="overtransTableDepenData('50')">
                              <td>25% to 50%</td>
                              <td>{{transLimitUtilTableDatas[1]
                                ?transLimitUtilTableDatas[1].TRANS_COUNT:''}}</td>
                            </tr>
                            <tr (click)="overtransTableDepenData('75')">
                              <td>50% to 75%</td>
                              <td>{{transLimitUtilTableDatas[2]?
                                transLimitUtilTableDatas[2].TRANS_COUNT:''}}</td>
                            </tr>
                            <tr (click)="overtransTableDepenData('100')">
                              <td>75% to 100%</td>
                              <td>{{transLimitUtilTableDatas[3]?
                                transLimitUtilTableDatas[3].TRANS_COUNT:''}}</td>
                            </tr>
                            <tr (click)="overtransTableDepenData('FULL')">
                              <td>100% (Full Utilization)</td>
                              <td>{{transLimitUtilTableDatas[4] ?
                                transLimitUtilTableDatas[4].TRANS_COUNT:''}}</td>
                            </tr>
                          </table>
                        </div>
                      </div>
                      <!-- caurosel start -->
                      <span>
                        <button class="prev" *ngIf="tableLimit" (click)="prevGraph()">&#10094;</button>
                        <button class="next" *ngIf="graphLimit" (click)="prevTable()">&#10095;</button>
                      </span>
                      <div>

                        <div *ngIf="graphLimit">
                          <div class="row">
                            <div class="col-md-4">
                              <div class="chart">
                                <div class="col-lg-12 grid-margin stretch-card p-0">
                                  <div class="card">
                                    <div class="card-body">
                                      <div style="display: block;">
                                        <canvas baseChart [datasets]="OverallhorizontalBarChartData" height="200px"
                                          width="300px" [labels]="horizontalBarChartLabels"
                                          [options]="horizontalBarChartOptions" [legend]="horizontalBarChartLegend"
                                          [chartType]="horizontalBarChartType">
                                        </canvas>
                                      </div>
                                      <!-- <canvas baseChart [chartType]="'line'" [datasets]="lineChartData" [labels]="lineChartLabels" [options]="lineChartOptions" [colors]="lineChartColors" height="150"></canvas> -->
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="chart">
                                <div class="col-lg-12 grid-margin stretch-card p-0">
                                  <div class="card">
                                    <div class="card-body">
                                      <div style="display: block;">
                                        <canvas baseChart [data]="OverallpieChartData" [labels]="pieChartLabels"
                                          height="200px" width="300px" [chartType]="pieChartType"
                                          [options]="pieChartOptions" [plugins]="pieChartPlugins" [legend]="true">
                                        </canvas>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="chart">
                                <div class="col-lg-12 grid-margin stretch-card p-0">
                                  <div class="card">
                                    <div class="card-body">
                                      <div style="display: block;">
                                        <canvas baseChart [chartType]="chartType" [datasets]="OverallLineData"
                                          height="200px" width="300px" [labels]="chartLabels" [colors]="chartColors"
                                          [options]="chartOptions" [legend]="true" (chartHover)="chartHovered($event)">
                                        </canvas>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div *ngIf="tableLimit">
                          <div style="overflow-x:auto;">
                            <div id="container">
                              <div class="mat-elevation-z8">
                                <table class="table-responsive" mat-table
                                  [dataSource]="dataSourceOverAllTransactionLimit"
                                  style="width: 100%;margin-left: 25px;">
                                  <ng-container matColumnDef="invoice">
                                    <th mat-header-cell *matHeaderCellDef scope="column">Invoice Number</th>
                                    <td mat-cell *matCellDef="let element;let row; let index = index">
                                      {{element.invoice}}
                                    </td>
                                  </ng-container>
                                  <ng-container matColumnDef="invoicedate">
                                    <th mat-header-cell *matHeaderCellDef scope="column">Invoice Date</th>
                                    <td mat-cell *matCellDef="let element;let row; let index = index"
                                      class="desc-goods">
                                      {{element.invoicedate && moment(element.invoicedate).format('DD/MM/YYYY')}}
                                    </td>
                                  </ng-container>
                                  <ng-container matColumnDef="invoiceamount">
                                    <th mat-header-cell *matHeaderCellDef scope="column">Invoice Value</th>
                                    <td mat-cell *matCellDef="let element;let row; let index = index">
                                      {{element.invoiceamount}}
                                    </td>
                                  </ng-container>
                                  <ng-container matColumnDef="sme_profile_id">
                                    <th mat-header-cell *matHeaderCellDef scope="column">SME Id</th>
                                    <td mat-cell *matCellDef="let element;let row; let index = index">
                                      {{element.sme_profile_id}}
                                    </td>
                                  </ng-container>

                                  <ng-container matColumnDef="smename">
                                    <th mat-header-cell *matHeaderCellDef scope="column">SME Name </th>
                                    <td mat-cell *matCellDef="let element;let row; let index = index">
                                      {{element.smename}}
                                    </td>
                                  </ng-container>

                                  <ng-container matColumnDef="country">
                                    <th mat-header-cell *matHeaderCellDef scope="column">SME Country</th>
                                    <td mat-cell *matCellDef="let element;let row; let index = index">
                                      {{element.country}}
                                    </td>
                                  </ng-container>

                                  <ng-container matColumnDef="sector_description">
                                    <th mat-header-cell *matHeaderCellDef scope="column">Sector </th>
                                    <td mat-cell *matCellDef="let element;let row; let index = index">
                                      {{element.sector_description}}
                                    </td>
                                  </ng-container>
                                  <ng-container matColumnDef="LIMIT_PERCENT">
                                    <th mat-header-cell *matHeaderCellDef scope="column">Limit Percent </th>
                                    <td mat-cell *matCellDef="let element;let row; let index = index">
                                      {{element.LIMIT_PERCENT}}
                                    </td>
                                  </ng-container>
                                  <ng-container matColumnDef="status">
                                    <th mat-header-cell *matHeaderCellDef scope="column">Status </th>
                                    <td mat-cell *matCellDef="let element;let row; let index = index">
                                      {{element.status}}
                                    </td>
                                  </ng-container>
                                  <tr mat-header-row *matHeaderRowDef="displayedColumnsOverAllTransactionLimit"
                                    style="background-color:#B4A6EA">
                                  </tr>
                                  <tr mat-row *matRowDef="let row; columns: displayedColumnsOverAllTransactionLimit">
                                  </tr>
                                </table>
                              </div>
                            </div>
                          </div>
                        </div>



                      </div>
                      <br>

                      <!-- carousel end -->
                      <!-- chart start -->
                      <!-- <div class="row">
                          <div class="col-md-4">
                            <div class="chart">
                              <div class="col-lg-12 grid-margin stretch-card p-0">
                                <div class="card">
                                  <div class="card-body">
                                    <div style="display: block;">
                                      <canvas baseChart [datasets]="horizontalBarChartData" height="200px" width="300px"
                                        [labels]="horizontalBarChartLabels" [options]="horizontalBarChartOptions"
                                        [legend]="horizontalBarChartLegend" [chartType]="horizontalBarChartType">
                                      </canvas>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="chart">
                              <div class="col-lg-12 grid-margin stretch-card p-0">
                                <div class="card">
                                  <div class="card-body">
                                    <div style="display: block;">
                                      <canvas baseChart [data]="pieChartData" [labels]="pieChartLabels" height="200px"
                                        width="300px" [chartType]="pieChartType" [options]="pieChartOptions"
                                        [plugins]="pieChartPlugins" [legend]="true">
                                      </canvas>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="chart">
                              <div class="col-lg-12 grid-margin stretch-card p-0">
                                <div class="card">
                                  <div class="card-body">
                                    <div style="display: block;">
                                      <canvas baseChart [chartType]="chartType" [datasets]="chartData" height="200px"
                                        width="300px" [labels]="chartLabels" [colors]="chartColors"
                                        [options]="chartOptions" [legend]="true" (chartHover)="chartHovered($event)">
                                      </canvas>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div> -->
                      <!-- chart end -->
                    </div>
                  </form>

                  <!-- <mat-accordion>
                      <mat-expansion-panel>
                      </mat-expansion-panel>
                      <mat-expansion-panel (opened)="bidpanelOpenState = true" (closed)="bidpanelOpenState = false">
                        <mat-expansion-panel-header>
                          <mat-panel-title style="font-weight:500;color: #a899e4;">
                            <div class="acc-bal-icon MuiGrid-root MuiGrid-item">
                              <svg class="MuiSvgIcon-root jss152 MuiSvgIcon-fontSizeLarge" focusable="false"
                                viewBox="0 0 24 24" aria-hidden="true">
                                <path d="M4 10h3v7H4zM10.5 10h3v7h-3zM2 19h20v3H2zM17 10h3v7h-3zM12 1L2 6v2h20V6z">
                                </path>
                              </svg>
                            </div>
                            Global Exposure Sub Screen (Based On Exposure Slot)
                          </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div style="overflow-x:auto;">
                          <div id="container">
                            <div class="mat-elevation-z8">
                              <table class="table-responsive" mat-table [dataSource]="dataSourceFour"
                                style="width: 100%;">
                                <ng-container matColumnDef="smeId">
                                  <th mat-header-cell *matHeaderCellDef scope="column">Global Exposure Name</th>
                                  <td mat-cell *matCellDef="let element;let row; let index = index">
                                    {{element.smeId}}
                                  </td>
                                </ng-container>
                                <ng-container matColumnDef="utilPercent">
                                  <th mat-header-cell *matHeaderCellDef scope="column">Global Exposure</th>
                                  <td mat-cell *matCellDef="let element;let row; let index = index" class="desc-goods">
                                    {{element.utilPercent}}%
                                  </td>
                                </ng-container>
                                <ng-container matColumnDef="exposureAmt">
                                  <th mat-header-cell *matHeaderCellDef scope="column">Global Exposure Amount</th>
                                  <td mat-cell *matCellDef="let element;let row; let index = index">
                                    {{this.newLimitGraphForm.value.newsmeLimit}}
                                  </td>
                                </ng-container>
                                <ng-container matColumnDef="utilTotlAmt">
                                  <th mat-header-cell *matHeaderCellDef scope="column">Global Total Utilized</th>
                                  <td mat-cell *matCellDef="let element;let row; let index = index">
                                    {{this.newLimitGraphForm.value.newsmeLimit * element.utilPercent / 100}}
                                  </td>
                                </ng-container>

                                <ng-container matColumnDef="amtAvailable">
                                  <th mat-header-cell *matHeaderCellDef scope="column">SME Amount Available </th>
                                  <td mat-cell *matCellDef="let element;let row; let index = index">
                                    {{this.newLimitGraphForm.value.newsmeLimit -
                                    this.newLimitGraphForm.value.newsmeLimit * element.utilPercent / 100}}
                                  </td>
                                </ng-container>
                                <tr mat-header-row *matHeaderRowDef="displayedColumnsFour"
                                  style="background-color:#B4A6EA">
                                </tr>
                                <tr mat-row *matRowDef="let row; columns: displayedColumnsFour"></tr>
                              </table>
                            </div>
                          </div>
                        </div>
                      </mat-expansion-panel>
                    </mat-accordion> -->
                </mat-card-content>
              </mat-card>
            </div>
          </mat-tab>
          <!--- Overall_Transaction Exposure Limit-->

          <!--- Country Exposure  -->
          <mat-tab label="Country Limit">
            <div class="links">
              <mat-card>
                <mat-card-content>
                  <form [formGroup]="countrylimitMaintanceForm" autocomplete="off" (ngSubmit)="onSubmitLimitForm()">
                    <div class="container-fluid">
                      <div class="row">
                        <div class="col-md-5">
                          <table class="table-responsive inv-table" style="display: contents;">
                            <tbody>
                              <tr>

                                <td rowspan="1" colspan="1">
                                  <mat-form-field dense class="finlim-mat">
                                    <mat-label>Currency</mat-label>
                                    <select matNativeControl formControlName="countryccy">
                                      <!-- <option value=""></option> -->
                                      <option value="SGD">SGD</option>
                                      <!-- <option value="USD">USD</option>
                                                  <option value="GBP">GBP</option>
                                                  <option value="EUR">EUR</option>
                                                  <option value="JPY">JPY</option> -->
                                    </select>
                                  </mat-form-field>
                                </td>

                              </tr>
                              <tr>
                                <td rowspan="1" colspan="1">
                                  <!-- icc-mat -->
                                  <mat-form-field dense class="finlim-mat">
                                    <mat-label>Global Limit</mat-label>
                                    <input type="text" matInput formControlName="countryoverAllLimit"
                                      (keyup)="changecountrylimit($event,'overAllLimit')" [readonly]="true" />
                                  </mat-form-field>
                                </td>
                              </tr>
                              <tr>
                                <td rowspan="1" colspan="1">
                                  <mat-form-field dense class="finlim-mat">
                                    <mat-label>Country Exposure</mat-label>
                                    <input type="text" matInput formControlName="countrysmeoverAllLimit"
                                      (keyup)="changecountrylimit($event,'countryoverAllLimit')" [readonly]=newLimit />
                                  </mat-form-field>
                                </td>
                              </tr>
                              <tr>
                                <td></td>
                                <td rowspan="1" colspan="1">
                                  <div style="text-align: end;" *ngIf=newLimit>
                                    <button style="bottom: 24px;" mat-flat-button color="primary"
                                      (click)=newLimitFn()>Edit</button>
                                  </div>
                                  <div style="text-align: end;" *ngIf="newLimit == false">
                                    <button style="bottom: 24px;" mat-flat-button color="primary"
                                      (click)=newLimitFn()>Cancel</button>
                                    <button style="bottom: 24px;" type="submit" mat-flat-button
                                      color="primary">submit</button>
                                  </div>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>

                        <!-- country Exposure start slabs -->
                        <div class="col-md-6 hover">
                          <table class="table-bordered table" id="exposureTbl">
                            <tr>
                              <th>Utilization Slabs</th>
                              <th>Number of Bids</th>
                            </tr>
                            <tr (click)="countryApiTableDependData('25')">
                              <td>0 to 25%</td>
                              <td>{{checkcountryExpValue(25)}}</td>
                            </tr>
                            <tr (click)="countryApiTableDependData('50')">
                              <td>25% to 50%</td>
                              <td>{{checkcountryExpValue(50)}}</td>
                            </tr>
                            <tr (click)="countryApiTableDependData('75')">
                              <td>50% to 75%</td>
                              <td>{{checkcountryExpValue(75)}}</td>
                            </tr>
                            <tr (click)="countryApiTableDependData('100')">
                              <td>75% to 100%</td>
                              <td>{{checkcountryExpValue(100)}}</td>
                            </tr>
                            <tr (click)="countryApiTableDependData('FULL')">
                              <td>100% (Full Utilization)</td>
                              <td>{{checkcountryExpValue('FULL')}}</td>
                            </tr>
                          </table>
                        </div>
                        <!-- country Exposure end slabs -->
                      </div>
                      <div class="row">
                        <div class="col-md-4">
                          <div class="chart">
                            <div class="col-lg-12 grid-margin stretch-card p-0">
                              <div class="card">
                                <div class="card-body">
                                  <div style="display: block;">
                                    <canvas baseChart [datasets]="countryhorizontalBarChartData" height="200px"
                                      width="300px" [labels]="horizontalBarChartLabels"
                                      [options]="horizontalBarChartOptions" [legend]="horizontalBarChartLegend"
                                      [chartType]="horizontalBarChartType">
                                    </canvas>
                                  </div>
                                  <!-- <canvas baseChart [chartType]="'line'" [datasets]="lineChartData" [labels]="lineChartLabels" [options]="lineChartOptions" [colors]="lineChartColors" height="150"></canvas> -->
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="chart">
                            <div class="col-lg-12 grid-margin stretch-card p-0">
                              <div class="card">
                                <div class="card-body">
                                  <div style="display: block;">
                                    <canvas baseChart [data]="countrypieChartData" [labels]="pieChartLabels"
                                      height="200px" width="300px" [chartType]="pieChartType"
                                      [options]="pieChartOptions" [plugins]="pieChartPlugins" [legend]="true">
                                    </canvas>
                                  </div>
                                  <!-- <canvas baseChart [chartType]="'line'" [datasets]="lineChartData" [labels]="lineChartLabels" [options]="lineChartOptions" [colors]="lineChartColors" height="150"></canvas> -->
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="chart">
                            <div class="col-lg-12 grid-margin stretch-card p-0">
                              <div class="card">
                                <div class="card-body">
                                  <div style="display: block;">
                                    <canvas baseChart [chartType]="chartType" [datasets]="countryLineData"
                                      height="200px" width="300px" [labels]="chartLabels" [colors]="chartColors"
                                      [options]="chartOptions" [legend]="true" (chartHover)="chartHovered($event)">
                                    </canvas>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </form>
                  <mat-accordion>
                    <mat-expansion-panel>
                    </mat-expansion-panel>
                    <mat-expansion-panel (opened)="bidpanelOpenState = true" (closed)="bidpanelOpenState = false">
                      <mat-expansion-panel-header>
                        <mat-panel-title style="font-weight:500;color: #a899e4;">
                          <div class="acc-bal-icon MuiGrid-root MuiGrid-item">
                            <svg class="MuiSvgIcon-root jss152 MuiSvgIcon-fontSizeLarge" focusable="false"
                              viewBox="0 0 24 24" aria-hidden="true">
                              <path d="M4 10h3v7H4zM10.5 10h3v7h-3zM2 19h20v3H2zM17 10h3v7h-3zM12 1L2 6v2h20V6z">
                              </path>
                            </svg>
                          </div>
                          Country Limit Maintanance
                        </mat-panel-title>
                      </mat-expansion-panel-header>
                      <div style="overflow-x:auto;">
                        <div id="container">
                          <div class="mat-elevation-z8">
                            <!-- country main table start -->
                            <table class="table-responsive" mat-table [dataSource]="dataSourceCountryExposureTable"
                              style="width: 100%;">
                              <ng-container matColumnDef="invoice">
                                <th mat-header-cell *matHeaderCellDef scope="column">Invoice Number</th>
                                <td mat-cell *matCellDef="let element;let row; let index = index">
                                  {{element.invoice}}
                                </td>
                              </ng-container>
                              <ng-container matColumnDef="invoicedate">
                                <th mat-header-cell *matHeaderCellDef scope="column">Invoice Date</th>
                                <td mat-cell *matCellDef="let element;let row; let index = index" class="desc-goods">
                                  {{element.invoicedate && moment(element.invoicedate).format('DD/MM/YYYY')}}
                                </td>
                              </ng-container>
                              <ng-container matColumnDef="invoiceamount">
                                <th mat-header-cell *matHeaderCellDef scope="column">Invoice Value</th>
                                <td mat-cell *matCellDef="let element;let row; let index = index">
                                  {{element.invoiceamount}}
                                </td>
                              </ng-container>
                              <ng-container matColumnDef="sme_profile_id">
                                <th mat-header-cell *matHeaderCellDef scope="column">SME Id</th>
                                <td mat-cell *matCellDef="let element;let row; let index = index">
                                  {{element.sme_profile_id}}
                                </td>
                              </ng-container>
                              <ng-container matColumnDef="smename">
                                <th mat-header-cell *matHeaderCellDef scope="column">SME Name </th>
                                <td mat-cell *matCellDef="let element;let row; let index = index">
                                  {{element.smename}}
                                </td>
                              </ng-container>
                              <ng-container matColumnDef="country">
                                <th mat-header-cell *matHeaderCellDef scope="column">SME Country</th>
                                <td mat-cell *matCellDef="let element;let row; let index = index">
                                  {{element.country}}
                                </td>
                              </ng-container>
                              <ng-container matColumnDef="addresss">
                                <th mat-header-cell *matHeaderCellDef scope="column">Address</th>
                                <td mat-cell *matCellDef="let element;let row; let index = index">
                                  {{element.addresss}}
                                </td>
                              </ng-container>
                              <ng-container matColumnDef="sector_description">
                                <th mat-header-cell *matHeaderCellDef scope="column">Sector </th>
                                <td mat-cell *matCellDef="let element;let row; let index = index">
                                  {{element.sector_description}}
                                </td>
                              </ng-container>
                              <ng-container matColumnDef="LIMIT_PERCENT">
                                <th mat-header-cell *matHeaderCellDef scope="column">Limit Percent </th>
                                <td mat-cell *matCellDef="let element;let row; let index = index">
                                  {{element.LIMIT_PERCENT}}
                                </td>
                              </ng-container>
                              <ng-container matColumnDef="bidvalue">
                                <th mat-header-cell *matHeaderCellDef scope="column">Bid Value</th>
                                <td mat-cell *matCellDef="let element;let row; let index = index">
                                  {{element.bidvalue}}
                                </td>
                              </ng-container>
                              <ng-container matColumnDef="status">
                                <th mat-header-cell *matHeaderCellDef scope="column">Status </th>
                                <td mat-cell *matCellDef="let element;let row; let index = index">
                                  {{element.status}}
                                </td>
                              </ng-container>
                              <tr mat-header-row *matHeaderRowDef="displayedColumnsCounrtyExposureTable"
                                style="background-color:#B4A6EA">
                              </tr>
                              <tr mat-row *matRowDef="let row; columns: displayedColumnsCounrtyExposureTable">
                              </tr>
                            </table>
                            <!-- country main table end -->
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel>
                  </mat-accordion>
                </mat-card-content>
              </mat-card>
            </div>
          </mat-tab>
          <!--- Country Exposure  -->

          <!--- Sme Exposure  -->
          <mat-tab label="Sme Limit">
            <div class="links">
              <mat-card>
                <mat-card-content>
                  <form [formGroup]="newLimitGraphForm" autocomplete="off" (ngSubmit)="newLimitGraphFormSubmit()">
                    <div class="container-fluid">
                      <div class="row">
                        <div class="col-md-5">
                          <table class="table-responsive inv-table" style="display: contents;">
                            <tbody>

                              <tr>
                                <td rowspan="1" colspan="1">
                                  <mat-form-field dense class="finlim-mat">
                                    <mat-label>Currency</mat-label>
                                    <select matNativeControl formControlName="newglobalCcy" [readonly]=newLimit>
                                      <option value="SGD">SGD</option>
                                    </select>
                                  </mat-form-field>
                                </td>
                              </tr>
                              <tr>
                                <td rowspan="1" colspan="1">
                                  <mat-form-field dense class="finlim-mat">
                                    <mat-label>Global Limit</mat-label>
                                    <input type="text" matInput formControlName="newglobalLimit" [readonly]=newLimit />
                                  </mat-form-field>
                                </td>
                              </tr>
                              <tr>
                                <td rowspan="1" colspan="1">
                                  <mat-form-field dense class="finlim-mat">
                                    <mat-label>SME Exposure Limit</mat-label>
                                    <input type="text" matInput formControlName="newsmeLimit" [readonly]=newLimit />
                                  </mat-form-field>
                                </td>
                              </tr>
                              <tr>
                                <td></td>
                                <td rowspan="1" colspan="1">
                                  <div style="text-align: end;" *ngIf=newLimit>
                                    <button style="bottom: 24px;" mat-flat-button color="primary"
                                      (click)=newLimitFn()>Edit</button>
                                  </div>
                                  <div style="text-align: end;" *ngIf="newLimit == false">
                                    <button style="bottom: 24px;" mat-flat-button color="primary"
                                      (click)=newLimitFn()>Cancel</button>
                                    <button style="bottom: 24px;" type="submit" mat-flat-button
                                      color="primary">submit</button>
                                  </div>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                        <div class="col-md-6 hover">
                          <table class="table-bordered table" id="exposureTbl">
                            <tr>
                              <th>Utilization Slabs</th>
                              <th>Number of Bids</th>
                            </tr>
                            <!-- style="background:renderBgColor('25')" -->
                            <tr (click)="smeApiTableDependData('25')">
                              <td>0 to 25%</td>
                              <td>{{checkSmeExpValue(25)}}</td>
                            </tr>
                            <tr (click)="smeApiTableDependData('50')">
                              <td>25% to 50%</td>
                              <td>{{checkSmeExpValue(50)}}</td>
                            </tr>
                            <tr (click)="smeApiTableDependData('75')">
                              <td>50% to 75%</td>
                              <td>{{checkSmeExpValue(75)}}</td>
                            </tr>
                            <tr (click)="smeApiTableDependData('100')">
                              <td>75% to 100%</td>
                              <td>{{checkSmeExpValue(100)}}</td>
                            </tr>
                            <tr (click)="smeApiTableDependData('FULL')">
                              <td>100% (Full Utilization)</td>
                              <td>{{checkSmeExpValue('FULL')}}</td>
                            </tr>
                          </table>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-4">
                          <div class="chart">
                            <div class="col-lg-12 grid-margin stretch-card p-0">
                              <div class="card">
                                <div class="card-body">
                                  <div style="display: block;">
                                    <canvas baseChart [datasets]="smehorizontalBarChartData" height="200px"
                                      width="300px" [labels]="horizontalBarChartLabels"
                                      [options]="horizontalBarChartOptions" [legend]="horizontalBarChartLegend"
                                      [chartType]="horizontalBarChartType">
                                    </canvas>
                                  </div>
                                  <!-- <canvas baseChart [chartType]="'line'" [datasets]="lineChartData" [labels]="lineChartLabels" [options]="lineChartOptions" [colors]="lineChartColors" height="150"></canvas> -->
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="chart">
                            <div class="col-lg-12 grid-margin stretch-card p-0">
                              <div class="card">
                                <div class="card-body">
                                  <div style="display: block;">
                                    <canvas baseChart [data]="smepieChartData" [labels]="pieChartLabels" height="200px"
                                      width="300px" [chartType]="pieChartType" [options]="pieChartOptions"
                                      [plugins]="pieChartPlugins" [legend]="true">
                                    </canvas>
                                  </div>
                                  <!-- <canvas baseChart [chartType]="'line'" [datasets]="lineChartData" [labels]="lineChartLabels" [options]="lineChartOptions" [colors]="lineChartColors" height="150"></canvas> -->
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="chart">
                            <div class="col-lg-12 grid-margin stretch-card p-0">
                              <div class="card">
                                <div class="card-body">
                                  <div style="display: block;">
                                    <canvas baseChart [chartType]="chartType" [datasets]="smeLineData" height="200px"
                                      width="300px" [labels]="chartLabels" [colors]="chartColors"
                                      [options]="chartOptions" [legend]="true" (chartHover)="chartHovered($event)">
                                    </canvas>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </form>
                  <mat-accordion>
                    <mat-expansion-panel>
                    </mat-expansion-panel>
                    <mat-expansion-panel (opened)="bidpanelOpenState = true" (closed)="bidpanelOpenState = false">
                      <mat-expansion-panel-header>
                        <mat-panel-title style="font-weight:500;color: #a899e4;">
                          <div class="acc-bal-icon MuiGrid-root MuiGrid-item">
                            <svg class="MuiSvgIcon-root jss152 MuiSvgIcon-fontSizeLarge" focusable="false"
                              viewBox="0 0 24 24" aria-hidden="true">
                              <path d="M4 10h3v7H4zM10.5 10h3v7h-3zM2 19h20v3H2zM17 10h3v7h-3zM12 1L2 6v2h20V6z">
                              </path>
                            </svg>
                          </div>
                          SME Limit Sub Screen (Based On Exposure Slot)
                        </mat-panel-title>
                      </mat-expansion-panel-header>
                      <div style="overflow-x:auto;">
                        <div id="container">
                          <div class="mat-elevation-z8">
                            <!-- SME Exposure Main table start -->
                            <table class="table-responsive" mat-table [dataSource]="dataSourceSmeExposureTable"
                              style="width: 100%;">
                              <ng-container matColumnDef="smename">
                                <th mat-header-cell *matHeaderCellDef scope="column">SME Name </th>
                                <td mat-cell *matCellDef="let element;let row; let index = index">
                                  {{element.smename}}
                                </td>
                              </ng-container>
                              <ng-container matColumnDef="LIMIT_PERCENT">
                                <th mat-header-cell *matHeaderCellDef scope="column">Limit Percent </th>
                                <td mat-cell *matCellDef="let element;let row; let index = index">
                                  {{element.LIMIT_PERCENT}}
                                </td>
                              </ng-container>
                              <ng-container matColumnDef="bidvalue">
                                <th mat-header-cell *matHeaderCellDef scope="column">Bid Value</th>
                                <td mat-cell *matCellDef="let element;let row; let index = index">
                                  {{element.bidvalue}}
                                </td>
                              </ng-container>
                              <tr mat-header-row *matHeaderRowDef="displayedColumnsSmeExposureTable"
                                style="background-color:#B4A6EA">
                              </tr>
                              <tr mat-row *matRowDef="let row; columns: displayedColumnsSmeExposureTable">
                              </tr>
                            </table>
                            <!-- SME Exposure Main table end -->
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel>
                  </mat-accordion>
                </mat-card-content>
              </mat-card>
            </div>
          </mat-tab>
          <!--- Sme Exposure  -->

          <!--- Sector Exposure  -->
          <mat-tab label="Sector Limit">
            <div class="links">
              <mat-card>
                <mat-card-content>
                  <form [formGroup]="newLimitGraphForm" autocomplete="off" (ngSubmit)="newLimitGraphFormSubmit()">
                    <div class="container-fluid">
                      <div class="row">
                        <div class="col-md-5">
                          <table class="table-responsive inv-table" style="display: contents;">
                            <tbody>
                              <tr>
                                <td rowspan="1" colspan="1">
                                  <mat-form-field dense class="finlim-mat">
                                    <mat-label>Currency</mat-label>
                                    <select matNativeControl formControlName="newglobalCcy" [readonly]=newLimit>
                                      <option value="SGD">SGD</option>
                                    </select>
                                  </mat-form-field>
                                </td>
                              </tr>
                              <tr>
                                <td rowspan="1" colspan="1">
                                  <mat-form-field dense class="finlim-mat">
                                    <mat-label>Global Limit</mat-label>
                                    <input type="text" matInput formControlName="newglobalLimit" [readonly]=newLimit />
                                  </mat-form-field>
                                </td>
                              </tr>
                              <tr>
                                <td rowspan="1" colspan="1">
                                  <mat-form-field dense class="finlim-mat">
                                    <mat-label>Sector Exposure Limit</mat-label>
                                    <input type="text" matInput formControlName="newsmeLimit" [readonly]=newLimit />
                                  </mat-form-field>
                                </td>
                              </tr>
                              <tr>
                                <td></td>
                                <td rowspan="1" colspan="1">
                                  <div style="text-align: end;" *ngIf=newLimit>
                                    <button style="bottom: 24px;" mat-flat-button color="primary"
                                      (click)=newLimitFn()>Edit</button>
                                  </div>
                                  <div style="text-align: end;" *ngIf="newLimit == false">
                                    <button style="bottom: 24px;" mat-flat-button color="primary"
                                      (click)=newLimitFn()>Cancel</button>
                                    <button style="bottom: 24px;" type="submit" mat-flat-button
                                      color="primary">submit</button>
                                  </div>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                        <div class="col-md-6 hover">
                          <table class="table-bordered table" id="exposureTbl">
                            <tr>
                              <th>Utilization Slabs</th>
                              <th>Number of Bids</th>
                            </tr>
                            <tr (click)="sectorApiTableDependData('25')">
                              <td>0 to 25%</td>
                              <td>{{checkSectorExpValue(25)}}</td>
                            </tr>
                            <tr (click)="sectorApiTableDependData('50')">
                              <td>25% to 50%</td>
                              <td>{{checkSectorExpValue(50)}}</td>
                            </tr>
                            <tr (click)="sectorApiTableDependData('75')">
                              <td>50% to 75%</td>
                              <td>{{checkSectorExpValue(75)}}</td>
                            </tr>
                            <tr (click)="sectorApiTableDependData('100')">
                              <td>75% to 100%</td>
                              <td>{{checkSectorExpValue(100)}}</td>
                            </tr>
                            <tr (click)="sectorApiTableDependData('FULL')">
                              <td>100% (Full Utilization)</td>
                              <td>{{checkSectorExpValue('FULL')}}</td>
                            </tr>
                          </table>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-4">
                          <div class="chart">
                            <div class="col-lg-12 grid-margin stretch-card p-0">
                              <div class="card">
                                <div class="card-body">
                                  <div style="display: block;">
                                    <canvas baseChart [datasets]="sectorhorizontalBarChartData" height="200px"
                                      width="300px" [labels]="horizontalBarChartLabels"
                                      [options]="horizontalBarChartOptions" [legend]="horizontalBarChartLegend"
                                      [chartType]="horizontalBarChartType">
                                    </canvas>
                                  </div>
                                  <!-- <canvas baseChart [chartType]="'line'" [datasets]="lineChartData" [labels]="lineChartLabels" [options]="lineChartOptions" [colors]="lineChartColors" height="150"></canvas> -->
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="chart">
                            <div class="col-lg-12 grid-margin stretch-card p-0">
                              <div class="card">
                                <div class="card-body">
                                  <div style="display: block;">
                                    <canvas baseChart [data]="sectorpieChartData" [labels]="pieChartLabels"
                                      height="200px" width="300px" [chartType]="pieChartType"
                                      [options]="pieChartOptions" [plugins]="pieChartPlugins" [legend]="true">
                                    </canvas>
                                  </div>
                                  <!-- <canvas baseChart [chartType]="'line'" [datasets]="lineChartData" [labels]="lineChartLabels" [options]="lineChartOptions" [colors]="lineChartColors" height="150"></canvas> -->
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="chart">
                            <div class="col-lg-12 grid-margin stretch-card p-0">
                              <div class="card">
                                <div class="card-body">
                                  <div style="display: block;">
                                    <canvas baseChart [chartType]="chartType" [datasets]="sectorLineData" height="200px"
                                      width="300px" [labels]="chartLabels" [colors]="chartColors"
                                      [options]="chartOptions" [legend]="true" (chartHover)="chartHovered($event)">
                                    </canvas>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </form>
                  <mat-accordion>
                    <mat-expansion-panel>
                    </mat-expansion-panel>
                    <mat-expansion-panel (opened)="bidpanelOpenState = true" (closed)="bidpanelOpenState = false">
                      <mat-expansion-panel-header>
                        <mat-panel-title style="font-weight:500;color: #a899e4;">
                          <div class="acc-bal-icon MuiGrid-root MuiGrid-item">
                            <svg class="MuiSvgIcon-root jss152 MuiSvgIcon-fontSizeLarge" focusable="false"
                              viewBox="0 0 24 24" aria-hidden="true">
                              <path d="M4 10h3v7H4zM10.5 10h3v7h-3zM2 19h20v3H2zM17 10h3v7h-3zM12 1L2 6v2h20V6z">
                              </path>
                            </svg>
                          </div>
                          Sector Exposure Sub Screen (Based On Exposure Slot)
                        </mat-panel-title>
                      </mat-expansion-panel-header>
                      <div style="overflow-x:auto;">
                        <div id="container">
                          <div class="mat-elevation-z8">
                            <table class="table-responsive" mat-table [dataSource]="dataSourceSectorExposureTable"
                              style="width: 100%;">
                              <ng-container matColumnDef="invoice">
                                <th mat-header-cell *matHeaderCellDef scope="column">Invoice Number</th>
                                <td mat-cell *matCellDef="let element;let row; let index = index">
                                  {{element.invoice}}
                                </td>
                              </ng-container>
                              <ng-container matColumnDef="invoicedate">
                                <th mat-header-cell *matHeaderCellDef scope="column">Invoice Date</th>
                                <td mat-cell *matCellDef="let element;let row; let index = index" class="desc-goods">
                                  {{element.invoicedate && moment(element.invoicedate).format('DD/MM/YYYY')}}
                                </td>
                              </ng-container>
                              <ng-container matColumnDef="invoiceamount">
                                <th mat-header-cell *matHeaderCellDef scope="column">Invoice Value</th>
                                <td mat-cell *matCellDef="let element;let row; let index = index">
                                  {{element.invoiceamount}}
                                </td>
                              </ng-container>
                              <ng-container matColumnDef="sme_profile_id">
                                <th mat-header-cell *matHeaderCellDef scope="column">SME Id</th>
                                <td mat-cell *matCellDef="let element;let row; let index = index">
                                  {{element.sme_profile_id}}
                                </td>
                              </ng-container>

                              <ng-container matColumnDef="smename">
                                <th mat-header-cell *matHeaderCellDef scope="column">SME Name </th>
                                <td mat-cell *matCellDef="let element;let row; let index = index">
                                  {{element.smename}}
                                </td>
                              </ng-container>

                              <ng-container matColumnDef="country">
                                <th mat-header-cell *matHeaderCellDef scope="column">SME Country</th>
                                <td mat-cell *matCellDef="let element;let row; let index = index">
                                  {{element.country}}
                                </td>
                              </ng-container>

                              <ng-container matColumnDef="sector_description">
                                <th mat-header-cell *matHeaderCellDef scope="column">Sector </th>
                                <td mat-cell *matCellDef="let element;let row; let index = index">
                                  {{element.sector_description}}
                                </td>
                              </ng-container>
                              <ng-container matColumnDef="LIMIT_PERCENT">
                                <th mat-header-cell *matHeaderCellDef scope="column">Limit Percent </th>
                                <td mat-cell *matCellDef="let element;let row; let index = index">
                                  {{element.LIMIT_PERCENT}}
                                </td>
                              </ng-container>
                              <ng-container matColumnDef="bidvalue">
                                <th mat-header-cell *matHeaderCellDef scope="column">Bid Value</th>
                                <td mat-cell *matCellDef="let element;let row; let index = index">
                                  {{element.bidvalue}}
                                </td>
                              </ng-container>
                              <ng-container matColumnDef="status">
                                <th mat-header-cell *matHeaderCellDef scope="column">Status </th>
                                <td mat-cell *matCellDef="let element;let row; let index = index">
                                  {{element.status}}
                                </td>
                              </ng-container>
                              <tr mat-header-row *matHeaderRowDef="displayedColumnsSectorExposureTable"
                                style="background-color:#B4A6EA">
                              </tr>
                              <tr mat-row *matRowDef="let row; columns: displayedColumnsSectorExposureTable">
                              </tr>
                            </table>
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel>
                  </mat-accordion>
                </mat-card-content>
              </mat-card>
            </div>
          </mat-tab>
          <!-- Sector Exposure  -->
        </mat-tab-group>
      </div>
    </div>
    <!-- </div> -->
  </header>
</div>